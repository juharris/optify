{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://optify.io/schema/feature-configuration.json",
	"title": "Optify Feature Configuration",
	"description": "Schema for Optify feature configuration files supporting JSON and YAML formats",
	"type": "object",
	"properties": {
		"metadata": {
			"type": "object",
			"description": "Information about the feature configuration",
			"properties": {
				"aliases": {
					"type": "array",
					"description": "Alternative names for the group of options. Helpful for using custom short names.",
					"items": {
						"type": "string",
						"minLength": 1
					},
					"uniqueItems": true
				},
				"details": {
					"description": "Other metadata that may be custom and application specific. Good place for documentation that should be available to the application.",
					"oneOf": [
						{
							"type": "string"
						},
						{
							"type": "object"
						},
						{
							"type": "array"
						},
						{
							"type": "number"
						},
						{
							"type": "boolean"
						},
						{
							"type": "null"
						}
					]
				},
				"name": {
					"type": "string",
					"description": "The name of the group of options. Usually derived from the file name including subdirectories.",
					"minLength": 1
				},
				"owners": {
					"type": "string",
					"description": "The creators or maintainers of this group of options. For example, emails separated by semicolons.",
					"minLength": 1
				}
			},
			"additionalProperties": false
		},
		"imports": {
			"type": "array",
			"description": "List of canonical feature names to import and inherit from.",
			"items": {
				"type": "string",
				"minLength": 1
			},
			"uniqueItems": true
		},
		"options": {
			"description": "The actual configuration options. Can contain arbitrary nested structures of objects, arrays, strings, numbers, and booleans.",
			"oneOf": [
				{
					"type": "object"
				},
				{
					"type": "array"
				},
				{
					"type": "string"
				},
				{
					"type": "number"
				},
				{
					"type": "boolean"
				},
				{
					"type": "null"
				}
			]
		}
	},
	"anyOf": [
		{
			"required": [
				"imports"
			]
		},
		{
			"required": [
				"metadata"
			]
		},
		{
			"required": [
				"options"
			]
		}
	]
}